# Copyright (c) 2024, WSO2 LLC. (https://www.wso2.com/) All Rights Reserved.
# 
# WSO2 LLC. licenses this file to you under the Apache License,
# Version 2.0 (the "License"); you may not use this file except
# in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied. See the License for the
# specific language governing permissions and limitations
# under the License.

asyncapi: '2.0.0'
info:
  title: 'tcpover'
  version: v
servers:
  localhost:
    url: localhost
    protocol: ws
channels:
  /:
    bindings:
      method: GET
      query:
        type: object
        properties:
          name:
            type: string 
            description: query name 
          code:
            type: string 
            description: query code
          rule:
            type: string 
            description: query rule
          mode:
            type: string
            description: query mode
          proto:
            type: string
            description: query proto
      headers:
        type: object
        properties:
          proto:
            type: string
            description: query proto
    publish:
      operationId: ReceiveMessage
      message:
        $ref: '#/components/messages/message'
    subscribe:
      operationId: SendMessage
      message:
        $ref: '#/components/messages/message'
components:
  messages:
    message:
      name: message
      payload:
        type: string